<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fantinal Admin Panel</title>
    <style>
        body { background: #0B1120; color: #E5E7EB; font-family: sans-serif; padding: 20px; }
        .admin-card { background: #111827; border: 1px solid #D4AF37; padding: 25px; border-radius: 15px; max-width: 500px; margin: 30px auto; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h2 { color: #D4AF37; text-align: center; letter-spacing: 2px; }
        input, textarea, select { width: 100%; padding: 12px; margin: 10px 0; background: #1F2937; border: 1px solid #374151; color: white; border-radius: 8px; box-sizing: border-box; outline: none; }
        input:focus { border-color: #D4AF37; }
        button { width: 100%; padding: 14px; background: #D4AF37; border: none; color: black; font-weight: bold; border-radius: 8px; cursor: pointer; transition: 0.3s; margin-top: 15px; }
        button:hover { background: #B8962E; transform: translateY(-2px); }
        .label { font-size: 0.8rem; color: #9CA3AF; margin-top: 10px; }
    </style>
</head>
<body>

<div class="admin-card">
    <h2>FANTINAL ADMIN</h2>
    <p style="text-align: center; font-size: 0.8rem;">Content Management System</p>
    
    <div class="label">Novel Details</div>
    <input type="text" id="n-title" placeholder="Novel Title (e.g. CEO's Secret)">
    <input type="text" id="n-author" placeholder="Author Name">
    <textarea id="n-desc" placeholder="Novel Summary..." rows="4"></textarea>
    <input type="text" id="n-cover" placeholder="Cover Image Link (URL)">
    
    <div class="label">Category</div>
    <select id="n-cat">
        <option value="Business">Business</option>
        <option value="Fantasy">Fantasy</option>
        <option value="Romance">Romance</option>
        <option value="Action">Action</option>
    </select>
    
    <button onclick="saveNovel()">UPLOAD TO FANTINAL</button>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBxh92A7E6Egtk4kYB23Wmlelq13YYh1J0",
    authDomain: "fantinal-publishing-5b960.firebaseapp.com",
    projectId: "fantinal-publishing-5b960",
    storageBucket: "fantinal-publishing-5b960.firebasestorage.app",
    messagingSenderId: "961612304854",
    appId: "1:961612304854:web:6bf7b03072ed83b58b9477"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  window.saveNovel = async () => {
    const title = document.getElementById('n-title').value;
    if(!title) return alert("Please fill the title!");

    try {
      await addDoc(collection(db, "novels"), {
        title: title,
        author: document.getElementById('n-author').value,
        desc: document.getElementById('n-desc').value,
        cover: document.getElementById('n-cover').value,
        category: document.getElementById('n-cat').value,
        views: 0,
        createdAt: serverTimestamp()
      });
      alert("Novel Published Successfully!");
      location.reload();
    } catch (e) { alert("Error: " + e.message); }
  };
</script>
</body>
</html>
